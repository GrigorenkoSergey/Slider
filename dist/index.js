var Slider=function(i){var o={};function s(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,s),e.l=!0,e.exports}return s.m=i,s.c=o,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(i,o,function(t){return e[t]}.bind(null,o));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=5)}([function(t,e){},function(t,e,i){},function(t,e){},function(t,e,i){},function(t,e,i){},function(t,e,i){"use strict";i.r(e);i(1),i(0),i(2),i(3);function o(){this.observers={}}var s,n,r=(o.prototype.addSubscriber=function(t,e){this.observers[t]=this.observers[t]||[],this.observers[t].push(e)},o.prototype.removeSubscriber=function(t,e){this.observers[t]&&(this.observers[t]=this.observers[t].filter(function(t){return t!==e}))},o.prototype.broadcast=function(e,i){this.observers[e]&&this.observers[e].forEach(function(t){return t&&t.update(e,i)})},o);function h(t,e,i){var o=n.call(this)||this;return o.el=t,o.prop=i,o.slider=e,o.init(),o}var u=((s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(h,n=r),h.prototype.init=function(){this.slider.addSubscriber(this.prop,this),this.el.addEventListener("change",this.handleInputChange.bind(this))},h.prototype.update=function(){var t=this.slider.getOptions()[this.prop];this.setValue(t)},h.prototype.handleInputChange=function(){var t,e,i="checkbox"===this.el.type?this.el.checked:this.el.value,o=this.slider.getOptions()[this.prop];"number"==typeof o&&(i=Number(i));try{this.slider.setOptions(((t={})[this.prop]=i,t)),this.broadcast(String(this.prop),i)}catch(t){console.log(t.message),this.slider.setOptions(((e={})[this.prop]=o,e)),this.setValue(o)}},h.prototype.setValue=function(t){"text"===this.el.type?this.el.value=t:"checkbox"===this.el.type&&(this.el.checked=t),this.broadcast(String(this.prop),t)},h),a=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,s,n=i.call(t),r=[];try{for(;(void 0===e||0<e--)&&!(o=n.next()).done;)r.push(o.value)}catch(t){s={error:t}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(s)throw s.error}}return r};function l(t,e){this.el=null,this.slider=null,this.min=null,this.max=null,this.step=null,this.angle=null,this.thumbLeftPos=null,this.thumbRightPos=null,this.range=null,this.hintAboveThumb=null,this.showScale=null,this.hintAlwaysShow=null,this.partsNum=null,this.precision=null,this.el=t,this.slider=e,this.render(),this.init()}var c,f,m=(l.prototype.render=function(){var o=document.createElement("ul");o.className="slider-options",["min","max","step","angle","thumbLeftPos","thumbRightPos","partsNum","precision"].forEach(function(t){var e=document.createElement("li");e.className="slider-options__li",e.textContent=t;var i=document.createElement("input");i.className="slider-options__input",i.type="text",i.name=t,e.append(i),o.append(e)});var r=document.createElement("li");r.className="slider-options__li slider-options__li_checkbox",[["range","Диапазон"],["hintAboveThumb","Подсказка"],["showScale","Покaзать шкалу"],["hintAlwaysShow","Всегда показывать подсказку"]].forEach(function(t){var e=a(t,2),i=e[0],o=e[1],s=document.createElement("label");s.className="slider-options__label",s.textContent=o;var n=document.createElement("input");n.className="slider-options__checkbox",n.type="checkbox",n.name=i,s.append(n),r.append(s)}),o.append(r),this.el.append(o)},l.prototype.init=function(){var i=this;Object.keys(this).forEach(function(t){var e;"el"!==t&&"slider"!==t&&((e={})[t]=new u(i.el.querySelector("[name="+t+"]"),i.slider,t),e[t].update(),Object.assign(i,e))})},l),p={start:0};i(4);function d(t){var e=f.call(this)||this;return e.view=t,e.render(),e.view.addSubscriber("thumbMousemove",e),e.view.addSubscriber("thumbProgramMove",e),e.view.addSubscriber("range",e),e}var b=((c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(d,f=r),d.prototype.render=function(){this.el=document.createElement("div"),this.el.className=this.view.className+"__stretcher",this.view.el.append(this.el),this.update()},d.prototype.update=function(){this.view.range?(this.el.style.left=parseFloat(getComputedStyle(this.view.thumbs.thumbLeft).left)+this.view.thumbs.thumbLeft.offsetWidth/2+"px",this.el.style.right=this.view.el.clientWidth-parseFloat(getComputedStyle(this.view.thumbs.thumbRight).left)+"px"):(this.el.style.left="0px",this.el.style.right=this.view.el.clientWidth-parseFloat(getComputedStyle(this.view.thumbs.thumbLeft).left)+"px")},d);var v,w,y=function(t){var e=+t[0];t=t.slice(1);for(var i=0;i<t.length;i++){if(+t[i]<=e)return!1;e=+t[i]}return!0},g=(v=function(t,e){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}v(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),P=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,s,n=i.call(t),r=[];try{for(;(void 0===e||0<e--)&&!(o=n.next()).done;)r.push(o.value)}catch(t){s={error:t}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(s)throw s.error}}return r},O=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(P(arguments[e]));return t};function _(e){var i=w.call(this)||this;return i.view=null,i.el=document.createElement("div"),i.width=0,i.parts=[],Object.keys(e).forEach(function(t){t in i&&(i[t]=e[t])}),i.init(),i}var S,x,E=(g(_,w=r),_.prototype.init=function(){var e=this;["showScale","step","partsNum","angle"].forEach(function(t){return e.view.addSubscriber(t,e)}),this.width=this.view.el.clientWidth-this.view.thumbs.thumbLeft.offsetWidth,this.anchors=[],this.render()},_.prototype.update=function(t,e){"showScale"===t&&this.displayScale(),"partsNum"===t&&this.setMilestones(),"step"===t&&this.setMilestones(),"angle"===t&&this.setMilestones()},_.prototype.render=function(){this.el.className=this.view.el.className+"__scale",this.view.el.append(this.el),this.setMilestones()},_.prototype.setAnchorValues=function(i){this.anchors.forEach(function(t,e){t.textContent=String(i[e])})},_.prototype.setMilestones=function(t){var s=this,e=this.view.step;if(this.anchors.forEach(function(t){return t.remove()}),this.anchors.length=0,t)this._validateScaleParts(t),this.parts=t;else{this.parts.length=0;for(var i=1;i<this.view.partsNum;i++){var o=Math.round(i/this.view.partsNum/e)*e,o=Math.min(1,o);this.parts.push(o)}this.parts=O([0],this.parts,[1])}this.parts.forEach(function(t,e){var i=document.createElement("div");i.className=s.view.el.className+"__scale-points",s.width;var o=t*s.width;i.style.left=o+"px",i.textContent=String(t),s.el.append(i),i.addEventListener("click",s.handleMouseClick.bind(s)),s.anchors.push(i)}),this.broadcast("rerenderScale",this.anchors)},_.prototype.handleMouseClick=function(t){var e=t.target,i=this.anchors.indexOf(e),o=this.parts[i];this.broadcast("anchorClick",o)},_.prototype.displayScale=function(){this.view.showScale?this.el.style.display="":this.el.style.display="none"},_.prototype._validateScaleParts=function(t){if(0!==t[0])throw new Error("First value of scalePoint should be zero");if(1!==t[t.length-1])throw new Error('Last value of scalePoint should be equal to "1"');if(!y(t))throw new Error("Scale points should be increasing sequence")},_),L=(S=function(t,e){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}S(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),M=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,s,n=i.call(t),r=[];try{for(;(void 0===e||0<e--)&&!(o=n.next()).done;)r.push(o.value)}catch(t){s={error:t}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(s)throw s.error}}return r};function R(t){var e=x.call(this)||this;return e.thumbLeftOffset=0,e.thumbRightOffset=1,e.view=null,e.view=t,e.render(),e}var N,k,j=(L(R,x=r),R.prototype.render=function(){var t=M(new Array(2).fill(1).map(function(){return document.createElement("div")}),2),e=t[0],i=t[1];Object.assign(this,{thumbLeft:e,thumbRight:i}),e.className=this.view.className+"__thumb-left",i.className=this.view.className+"__thumb-right",this.view.el.append(e),this.displayThumbRight(),e.addEventListener("mousedown",this.handleThumbMousedown.bind(this)),i.addEventListener("mousedown",this.handleThumbMousedown.bind(this)),this.view.addSubscriber("range",this)},R.prototype.update=function(t){return"range"===t&&this.displayThumbRight(),this},R.prototype.moveThumbToPos=function(t,e){t.style.left=e*(this.view.el.clientWidth-t.offsetWidth)+"px",t==this.thumbLeft?this.thumbLeftOffset=e:this.thumbRightOffset=e,this.broadcast("thumbProgramMove",{el:t,offset:e})},R.prototype.handleThumbMousedown=function(t){t.preventDefault();var h=t.target,e=this.view.el,i=this.view,o=e.getBoundingClientRect(),s=h.getBoundingClientRect(),u=o.left+e.clientLeft,a=o.top+e.clientTop,l=Math.cos(i.angle/180*Math.PI),c=Math.sin(i.getOptions().angle/180*Math.PI),f=this.view.step*(e.clientWidth-h.offsetWidth),m=h===this.thumbLeft?0:(m=parseFloat(getComputedStyle(this.thumbLeft).left)+this.thumbLeft.offsetWidth,Math.ceil(m/f)*f),p=h===this.thumbLeft&&this.view.range?(p=parseFloat(getComputedStyle(this.thumbRight).left)-h.offsetWidth,Math.floor(p/f)*f):e.clientWidth-h.offsetWidth,d=t.clientX-s.left,b=t.clientY-s.top;h.classList.add(i.className+"__thumb_moving");var v=e.clientWidth-h.offsetWidth,n=h==this.thumbLeft?this.thumbLeftOffset:this.thumbRightOffset;this.broadcast("thumbMousedown",{el:h,offset:n});var w=this;function r(t){t.preventDefault(),h.style.zIndex="1000";var e,i,o=t.clientX-u-d,s=t.clientY-a-b,n=o*l+s*c;e=n,i=f,n=Math.round(e/i)*i,n=Math.max(m,n),n=Math.min(n,p),h.style.left=n+"px";var r=n/v;h===w.thumbLeft?w.thumbLeftOffset=r:w.thumbRightOffset=r,w.broadcast("thumbMousemove",{el:h,offset:r})}document.addEventListener("mousemove",r),document.addEventListener("mouseup",function t(){h.classList.remove(i.className+"__thumb_moving"),w.broadcast("thumbMouseup",{thumb:h}),document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",t)})},R.prototype.displayThumbRight=function(){this.view.range?this.view.el.append(this.thumbRight):this.thumbRight.remove()},R);function T(t,e){var i=k.call(this)||this;return i.el=document.createElement("div"),i.value="hint",i.view=t,i.init(e),i}var A,F,V=((N=function(t,e){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}N(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(T,k=r),T.prototype.init=function(t){this.el.className=this.view.className+"__hint",this.el.hidden=!0,t.append(this.el),this.el.addEventListener("mousedown",this.handleMousedown),this.view.hintAlwaysShow&&this.showHint()},T.prototype.handleMousedown=function(t){t.preventDefault(),t.stopPropagation()},T.prototype.setHintValue=function(t){this.value=t,this.el.hidden||(this.el.textContent=this.value)},T.prototype.showHint=function(){this.el.hidden=!1,this.el.textContent=this.value},T.prototype.hideHint=function(){this.view.hintAlwaysShow||(this.el.hidden=!0)},T),C=(A=function(t,e){return(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}A(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),W=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,s,n=i.call(t),r=[];try{for(;(void 0===e||0<e--)&&!(o=n.next()).done;)r.push(o.value)}catch(t){s={error:t}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(s)throw s.error}}return r};function H(e){var t=F.call(this)||this;t.el=document.createElement("div"),t.className="slider",t.step=.01,t.angle=0,t.range=!1,t.selector="",t.hintAboveThumb=!0,t.hintAlwaysShow=!1,t.rotateHint=!0,t.showScale=!0,t.rotateScale=!0,t.partsNum=2;var i=["selector"];if(!i.every(function(t){return t in e}))throw new Error('Not enough values. Should be at least \n        "'+i.join('", "')+'" in options');return t.setOptions(e),t.init(),t}var q,I,z=(C(H,F=r),H.prototype.init=function(){return document.querySelector(this.selector).append(this.el),this.el.style.transform="rotate("+this.angle+"deg)",this.el.classList.add(this.className),this.thumbs=new j(this),this.thumbs.addSubscriber("thumbMousemove",this),this.thumbs.addSubscriber("thumbMousedown",this),this.thumbs.addSubscriber("thumbMouseup",this),this.hints=[new V(this,this.thumbs.thumbLeft),new V(this,this.thumbs.thumbRight)],this.scale=new E({view:this}),this.scale.addSubscriber("anchorClick",this),this.stretcher=new b(this),this.addSubscriber("hintAlwaysShow",this),this.addSubscriber("angle",this),this},H.prototype.setOptions=function(e){var s=this,n={};return Object.keys(e).filter(function(t){return t in s}).forEach(function(t){return n[t]=e[t]}),Object.entries(n).forEach(function(t){var e=W(t,2),i=e[0],o=e[1];s.validateOptions(i,o,n)}),Object.assign(this,n),Object.entries(n).forEach(function(t){var e=W(t,2),i=e[0],o=e[1];s.broadcast(i,o)}),this},H.prototype.getOptions=function(){var e=this,i={};return["step","range","className","selector","hintAboveThumb","hintAlwaysShow","angle","showScale","partsNum"].forEach(function(t){return i[t]=e[t]}),i},H.prototype.update=function(t,e){if("angle"===t)return this.el.style.transform="rotate("+this.angle+"deg)",this.handleHintAngle(this.angle),this;if("rerenderScale"===t)this.handleScaleRerender(this.angle);else{if("hintAlwaysShow"===t)return this.hintAlwaysShow?this.hints.forEach(function(t){return t.showHint()}):this.hints.forEach(function(t){return t.hideHint()}),this;var i;"thumbMousedown"===t?(i=e.el,this.handleThumbMousedown(i)):"thumbMousemove"===t?(i=e.el,this.handleThumbMousemove(i)):"thumbMouseup"===t?(i=e.thumb,this.handleThumbMouseup(i)):"anchorClick"===t&&this.handleAnchorClick(e)}return this.broadcast(t,e),this},H.prototype.moveThumbToPos=function(t,e){this.thumbs.moveThumbToPos.call(this.thumbs,t,e,this);var i=null,i=t===this.thumbs.thumbLeft?{left:e}:{right:e};this.broadcast("thumbProgramMove",i)},H.prototype.setAnchorValues=function(t){this.scale.setAnchorValues(t)},H.prototype.setHintValue=function(t,e){(t===this.thumbs.thumbLeft?this.hints[0]:this.hints[1]).setHintValue(e),this.handleHintAngle(this.angle)},H.prototype.handleAnchorClick=function(t){var e=this.thumbs,i=e.thumbLeft,o=e.thumbRight,s=!this.range||t-this.thumbs.thumbLeftOffset<this.thumbs.thumbRightOffset-t?i:o;this.moveThumbToPos(s,t)},H.prototype.handleThumbMousedown=function(t){this.hintAboveThumb&&(t===this.thumbs.thumbLeft?this.hints[0]:this.hints[1]).showHint()},H.prototype.handleThumbMouseup=function(t){var e=t===this.thumbs.thumbLeft?this.hints[0]:this.hints[1];this.hintAlwaysShow||e.hideHint()},H.prototype.handleThumbMousemove=function(t){this.hintAboveThumb&&(t===this.thumbs.thumbLeft?this.hints[0]:this.hints[1]).showHint()},H.prototype.handleScaleRerender=function(s){var n=Math.sin,t=Math.PI,r=s*t/180;this.scale.el.style.transform=" translateY("+10*n(2*r)+"px)",this.scale.anchors.forEach(function(t){var e="rotate(-"+s+"deg)",i=t.clientWidth,o=i/2-parseFloat(getComputedStyle(t).fontSize)/2;e+=" translateX(-"+i/2*n(r)+"px)",e+=" translateY("+-o*n(r)+"px)",t.style.transform=e})},H.prototype.handleHintAngle=function(r){this.hints.map(function(t){return t.el}).forEach(function(t){var e="rotate(-"+r+"deg)";t.style.transform=e;var i=t.clientWidth,o=Math.sin,s=Math.PI,n=r*s/180;e+=" translateX("+(100*o(n)-50)+"%)",e+=" translateY(-"+i/2*o(n)+"px)",t.style.transform=e})},H.prototype.validateOptions=function(t,e,i){var o=this,s={step:function(t){if(!isFinite(t))throw new Error("step should be a number!");if(1<t)throw new Error("step is too big!");if(t<0)throw new Error("step is negative!");if(0==t)throw new Error("step is equal to zero!")},angle:function(t){if(!isFinite(t))throw new Error("angle should be a number!");if(t<0||90<t)throw new Error("angle should be >= 0 and <= 90")},partsNum:function(t){if(!isFinite(t)||t<=0)throw new Error("partsNum should be a positive number!");if(!Number.isInteger(t))throw new Error("partsNum should be a integer!");var e=i.step||o.step;if(1+e<=t*e)throw new Error("Either step or number of partsNum is too large")}};if(t in s)return s[t](e)},H),Y=(q=function(t,e){return(q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}q(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),X=function(){return(X=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)},B=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,s,n=i.call(t),r=[];try{for(;(void 0===e||0<e--)&&!(o=n.next()).done;)r.push(o.value)}catch(t){s={error:t}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(s)throw s.error}}return r};function D(e){var t=I.call(this)||this;t.min=0,t.max=100,t.step=1,t.thumbLeftPos=0,t.thumbRightPos=1/0,t.range=!1,t.ticks={0:0},t.precision=1;var i=X({},e),o=["min","max"];if(!o.every(function(t){return t in i}))throw new Error('Not enough values. Should be at least \n        "'+o.join('", "')+'" in options');var s={step:function(){return Math.round((i.max-i.min)/100)},thumbLeftPos:function(){return i.min},ticks:function(){var t={};return t[i.max]=i.max,t},range:function(){return!1},thumbRightPos:function(){return 1/0},precision:function(){return 1}};return Object.keys(s).forEach(function(t){t in e||(i[t]=s[t]())}),t.setOptions(i),t}var G,J,K=(Y(D,I=r),D.prototype.getOptions=function(){var e=this,i={};return["min","max","range","step","thumbLeftPos","thumbRightPos","ticks","precision"].forEach(function(t){return i[t]=e[t]}),i},D.prototype.setOptions=function(t){var s=this,n={};return Object.entries(t).forEach(function(t){var e=B(t,2),i=e[0],o=e[1];i in s&&(n[i]=o)}),n=this._handleOptions(n),Object.assign(this,n),Object.keys(n).forEach(function(t){s.broadcast(t,{value:s[t],method:"setOptions"})}),this},D.prototype.setThumbsPos=function(t){var e=t.left,i=void 0===e?this.thumbLeftPos:e,o=t.right,s=void 0===o?this.thumbRightPos:o;return"left"in t&&(this.thumbLeftPos=this._handleOptions({thumbLeftPos:i}).thumbLeftPos,this.broadcast("thumbLeftPos",{value:this.thumbLeftPos,method:"setThumbsPos"})),"right"in t&&(this.thumbRightPos=this._handleOptions({thumbRightPos:s}).thumbRightPos,this.broadcast("thumbRightPos",{value:this.thumbRightPos,method:"setThumbsPos"})),this},D.prototype.findValue=function(t){for(var e=Object.keys(this.ticks).map(function(t){return Number(t)}),i=Object.values(this.ticks),o=Object.values(this.ticks).pop(),s=0;s<e.length;s++)if(i[s]/o>=t){var n=e[s-1]?i[s-1]:0;n/=o;var r=i[s];r/=o;var h=e[s-1]?e[s-1]:this.min,u=e[s];return Number(((t-n)*(u-h)/(r-n)+h).toFixed(this.precision))}},D.prototype.findArgument=function(t){for(var e=Object.keys(this.ticks).map(function(t){return Number(t)}),i=Object.values(this.ticks),o=Object.values(this.ticks).pop(),s=0;s<e.length;s++)if(e[s]>=t){var n=e[s-1]?i[s-1]:0;n/=o;var r=i[s];r/=o;var h=e[s-1]?e[s-1]:this.min;return(t-h)*(r-n)/(e[s]-h)+n}},D.prototype._handleOptions=function(f){var m=this,p=X({},f),e={precision:function(t){if(!isFinite(t))throw new Error('"precision" should be a number!');if(t<0||3<t)throw new Error('"precision" should be in range from 0 to 3');p.precision=Number(t)},min:function(t){if(!isFinite(t))throw new Error('"min" should be a number!');var e=p.max,i=void 0===e?m.max:e,o=p.step,s=void 0===o?m.step:o,n=p.thumbLeftPos,r=void 0===n?m.thumbLeftPos:n,h=p.precision,u=void 0===h?m.precision:h;if(i<=t)throw new Error('"min" should be <= "max"!');if(i-t<s)throw new Error('"max" - "min" should be >= "step"!');if(r<t){if("thumbLeftPos"in f)throw new Error('"thumbLeftPos" should be >= "min"!');p.thumbLeftPos=+Number(t).toFixed(u)}if(t>m.thumbRightPos){if("thumbRightPos"in f)throw new Error('"thumbRightPos" should be > "min"!');p.thumbRightPos=+Number(i).toFixed(u)}p.min=+Number(t).toFixed(u)},max:function(t){var e;if(!isFinite(t))throw new Error('"max" should be a number!');var i=p.min,o=void 0===i?m.min:i,s=p.step,n=void 0===s?m.step:s,r=p.thumbLeftPos,h=void 0===r?m.thumbLeftPos:r,u=p.thumbRightPos,a=void 0===u?m.thumbRightPos:u,l=p.precision,c=void 0===l?m.precision:l;if(t<=o)throw new Error('"max" should be >= "min"!');if(t-o<n)throw new Error('"max" - "min" should be >= "step"!');if(t<h){if("thumbLeftPos"in f)throw new Error('"thumbLeftPos" should be <= "max"!');a!==1/0?(p.thumbLeftPos=o,p.thumbRightPos=+Number(t).toFixed(c)):p.thumbLeftPos=+Number(t).toFixed(c)}if(a!==1/0&&t<a){if("thumbRightPos"in f)throw new Error('"thumbRightPos should be <= "max"!');p.thumbRightPos=+Number(t).toFixed(c)}p.max=+Number(t).toFixed(c),"ticks"in p||1==Object.keys(m.ticks).length&&(p.ticks=((e={})[t]=Number(t),e))},step:function(t){if(!isFinite(t))throw new Error('"step" should be a number!');var e=p.min,i=void 0===e?m.min:e,o=p.max,s=void 0===o?m.max:o,n=p.precision,r=void 0===n?m.precision:n;if(s-i<t)throw new Error('"step" is too big!');if(t<0)throw new Error('"step" is negative!');if(0==t)throw new Error('"step" is equal to zero!');p.step=+Number(t).toFixed(r)},range:function(t){if("boolean"!=typeof t)throw new Error('"range" should be boolean!');var e=p.thumbRightPos,i=void 0===e?m.thumbRightPos:e,o=p.max,s=void 0===o?m.max:o;t&&i===1/0?p.thumbRightPos=s:t||(p.thumbRightPos=1/0),p.range=t},thumbLeftPos:function(t){if(!isFinite(t))throw new Error('"thumbLeftPos" should be a number!');var e=p.thumbRightPos,i=void 0===e?m.thumbRightPos:e,o=p.min,s=void 0===o?m.min:o,n=p.max,r=void 0===n?m.max:n,h=p.precision,u=void 0===h?m.precision:h;if(i<=t)throw new Error('"thumbLeftPos" should be lesser than "thumbRightPos"');p.thumbLeftPos=+Math.min(Math.max(s,t),r).toFixed(u)},thumbRightPos:function(t){var e=p.range,i=void 0===e?m.range:e,o=p.max,s=void 0===o?m.max:o;if(!i)return 1/0;if(!isFinite(t))throw new Error('"thumbRightPos" should be a number!');var n=p.thumbLeftPos,r=void 0===n?m.thumbLeftPos:n,h=p.precision,u=void 0===h?m.precision:h;if(t<=r)throw new Error('"thumbRightPos should be greater than "thumbLeftPos"');p.thumbRightPos=+Math.min(t,s).toFixed(u)},ticks:function(t){var e=Object.keys(t),i=Object.values(t),o=f.max,s=void 0===o?m.max:o,n=f.min,r=void 0===n?m.min:n;if(e[e.length-1]!=s)throw new Error("Last key of ticks should be equal to max!");if(e[0]<r)throw new Error("First key of ticks should be greater then min!");if(!y(i)||!y(e))throw new Error("Both keys and values of ticks must be increasing sequenses!");p.ticks=t}};return["precision","min","max","step","range","thumbLeftPos","thumbRightPos","ticks"].forEach(function(t){t in f&&e[t].call(m,p[t])}),p},D),Q=(G=function(t,e){return(G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}G(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),U=function(){return(U=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};function Z(t){var e=J.call(this)||this;return e.view=null,e.model=null,e.className="slider",e.init(t),e}var $=new(Q(Z,J=r),Z.prototype.init=function(t){var e=Object.assign({},t);this.model=new K(t);var i=this.model;e.step=i.step/(i.max-i.min),this.view=new z(e);var o=this.view;o.addSubscriber("angle",this),o.addSubscriber("thumbMousedown",this),o.addSubscriber("thumbMousemove",this),o.addSubscriber("thumbMouseup",this),o.addSubscriber("partsNum",this),o.addSubscriber("thumbProgramMove",this),o.addSubscriber("showScale",this),o.addSubscriber("hintAlwaysShow",this),o.addSubscriber("hintAboveThumb",this),o.scale.addSubscriber("rerenderScale",this),this.addSubscriber("rerenderScale",this.view),i.addSubscriber("min",this),i.addSubscriber("max",this),i.addSubscriber("step",this),i.addSubscriber("thumbLeftPos",this),i.addSubscriber("thumbRightPos",this),i.addSubscriber("range",this),i.addSubscriber("ticks",this),i.addSubscriber("precision",this),"complete"!==document.readyState?window.onload=this.handleWindowLoad.bind(this,t):this.handleWindowLoad(t)},Z.prototype.handleWindowLoad=function(t){this.setOptions(t),"ticks"in t&&(this.handleTicks(),this.scaleValues())},Z.prototype.setOptions=function(t){var e=this.model,i=this.view;e.setOptions(t);var o,s=U({},t);["min","max","step"].some(function(t){return t in s})&&(o=e.step/(e.max-e.min),s.step=o),i.setOptions(s)},Z.prototype.getOptions=function(){var t=this.model,e=this.view;return U(U({},e.getOptions()),t.getOptions())},Z.prototype.scaleValues=function(){var t=this.view,e=this.model;t.setHintValue(t.thumbs.thumbLeft,String(e.thumbLeftPos)),t.setHintValue(t.thumbs.thumbRight,String(e.thumbRightPos));var i=this.model.precision,o=this.view.scale.parts.map(function(t){return Number(e.findValue(t).toFixed(i))});t.setAnchorValues(o)},Z.prototype.update=function(t,e){if("thumbMousedown"===t){var i=e.el,o=this.model.findValue(e.offset);this.view.setHintValue(i,String(o))}else if("thumbMousemove"===t)i=e.el,o=this.model.findValue(e.offset),this.view.setHintValue(i,String(o)),i===this.view.thumbs.thumbLeft?this.model.setThumbsPos({left:o}):this.model.setThumbsPos({right:o});else if("min"===t||"max"===t){var s=this.view.thumbs.thumbLeft;this.view.moveThumbToPos(s,this.model.findArgument(this.model.thumbLeftPos)),this.model.range&&(r=this.view.thumbs.thumbRight,this.view.moveThumbToPos(r,this.model.findArgument(this.model.thumbRightPos))),this.scaleValues()}else if("step"===t){var n=this.model.step/(this.model.max-this.model.min);this.view.setOptions({step:n})}else if("thumbLeftPos"===t){if("setThumbsPos"==e.method)return void this.broadcast(t,e);s=this.view.thumbs.thumbLeft,this.view.moveThumbToPos(s,this.model.findArgument(e.value))}else if("thumbRightPos"===t){if("setThumbsPos"==e.method)return void this.broadcast(t,e);var r=this.view.thumbs.thumbRight;if(this.model.thumbRightPos===1/0)return;this.view.moveThumbToPos(r,this.model.findArgument(e.value))}else{var h;"range"===t?this.view.setOptions({range:e.value}):("ticks"===t?this.handleTicks():"thumbProgramMove"===t&&(h=null,h="left"in e?{left:this.model.findValue(e.left)}:{right:this.model.findValue(e.right)},this.model.setThumbsPos(h)),this.scaleValues())}this.broadcast(t,e)},Z.prototype.handleTicks=function(){var e,i,t=this.model,o=this.view;1<Object.keys(t.ticks).length&&(e=Object.values(t.ticks).slice(-1)[0],i=[0],Object.values(t.ticks).forEach(function(t){i.push(t/e)}),o.scale.setMilestones(i))},Z)({min:0,max:2e6,step:2,selector:".slider1",angle:90,range:!0,hintAboveThumb:!0,hintAlwaysShow:!0,partsNum:2}),tt=new m(document.querySelector(".example1"),$);console.log(tt),p.start=2}]);